<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>CCST9003-R12</title> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
</head>
<body>
    <script>
        // check if parameter "valid_access=true" is in the URL
        const urlParams = new URLSearchParams(window.location.search);
        const validAccess = urlParams.get('valid_access');
        if (validAccess !== 'true') {
            window.location.href = 'search.html';
        }
    </script>
    <header class="results-header">
        <div class="back-button">
            <span class="material-symbols-outlined icon">arrow_back_ios</span>
            <p>Search</p>
        </div>
        <script>
            document.querySelector('.back-button').addEventListener('click', function() {
                window.location.href = 'search.html';
            });
        </script>
    </header>

    <main class="container results-container">
        <div class="seat-recommendations card card-center">
            <p>Sit on the <strong style="color: #1976d2;">Left</strong> side for maximized sunlight exposure ☀️.</p>
            <div class="seat-indicators">
                <span class="material-symbols-outlined seat-indicator active" style="transform: rotateY(180deg);">
                    airline_seat_recline_extra
                </span>
                <span class="material-symbols-outlined seat-indicator">
                    airline_seat_recline_extra
                </span>
            </div>
            <p>Overall sun exposure rate: <strong style="color: #1976d2;">73%</strong></p>
        </div>

        <div class="exposure-visualiser card">
            <h2>Exposure Overview</h2>
            <div class="stops-container" id="stops-container">
                <span class="stops-connecting-line"></span>
                <script>
                    // set the height of the connecting line
                    document.addEventListener('DOMContentLoaded', function() {
                        const stopsContainer = document.getElementById('stops-container');
                        const parentHeight = stopsContainer.offsetHeight;
                        const connectingLine = stopsContainer.querySelector('.stops-connecting-line');
                        connectingLine.style.height = `${parentHeight - 24}px`;
                    });
                </script>
                <ul id="stops-list">
                    <li>
                        <span class="stop-dot"></span>
                        <span class="stop-name">Placeholder 1</span>
                    </li>
                    <li>
                        <span class="stop-dot"></span>
                        <span class="stop-name">Placeholder 2</span>
                    </li>
                    <li>
                        <span class="stop-dot"></span>
                        <span class="stop-name">Placeholder 3</span>
                    </li>
                    <li>
                        <span class="stop-dot"></span>
                        <span class="stop-name">Placeholder 4</span>
                    </li>
                </ul>
            </div>
        </div>
    </main>
</body>
</html>